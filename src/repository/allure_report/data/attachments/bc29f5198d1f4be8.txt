2019-04-18 13:21:29,840 - PYTHON_WTP_QA - INFO -   --> r_time_count
2019-04-18 13:21:29,841 - PYTHON_WTP_QA - INFO - START TIME: 402.8308781
2019-04-18 13:21:29,844 - PYTHON_WTP_QA - INFO -  TestSellLimitPartiallyFilledCanceledBalanceUnfrozen --> setUp
2019-04-18 13:21:29,844 - PYTHON_WTP_QA - INFO -  RegisteredCustomer --> __init__
2019-04-18 13:21:29,845 - PYTHON_WTP_QA - INFO -  Customer --> __init__
2019-04-18 13:21:29,846 - PYTHON_WTP_QA - INFO -  Customer --> set_customer_details
2019-04-18 13:21:29,846 - PYTHON_WTP_QA - INFO -  Utils --> get_data
2019-04-18 13:21:29,847 - PYTHON_WTP_QA - INFO -  Utils --> get_account_details
2019-04-18 13:21:29,848 - PYTHON_WTP_QA - INFO -  Customer --> define_static_details
2019-04-18 13:21:29,849 - PYTHON_WTP_QA - INFO -  Utils --> get_faked_phone
2019-04-18 13:21:29,938 - PYTHON_WTP_QA - INFO -  Customer --> get_static_postman
2019-04-18 13:21:29,938 - PYTHON_WTP_QA - INFO -  AuthorizationService --> login_by_credentials
2019-04-18 13:21:29,938 - PYTHON_WTP_QA - INFO -  AuthorizationServiceRequest --> login_by_credentials
2019-04-18 13:21:29,938 - PYTHON_WTP_QA - INFO -  Utils --> to_json
2019-04-18 13:21:29,938 - PYTHON_WTP_QA - INFO - Request body: {
    "jsonrpc": "2.0",
    "method": "Authorization.LoginByCredentials",
    "params": [
        {
            "captcha": "captcha",
            "login": "Mary_Klein@sandbox7e64c317900647609c225574db67437b.mailgun.org",
            "password": "1Aa@<>12"
        }
    ]
}
2019-04-18 13:21:29,939 - PYTHON_WTP_QA - INFO -  Utils --> to_json
2019-04-18 13:21:30,745 - PYTHON_WTP_QA - INFO - Service Response: {'id': '<nil>', 'result': {'token': 'eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Ik1hcnlfS2xlaW5Ac2FuZGJveDdlNjRjMzE3OTAwNjQ3NjA5YzIyNTU3NGRiNjc0MzdiLm1haWxndW4ub3JnIiwiZmlyc3ROYW1lIjoiTWFyaW8gQ29oZW4iLCJsYXN0TmFtZSI6IkNvaGVuIiwiY3VzdG9tZXJJZCI6IjEwMDAwMTEwMDAwMDAyMzAyNCIsInRva2VuVHlwZSI6MCwiZXhwIjoxNTU1NjY5MjkwLCJqdGkiOiIxMDAwMDExMDAwMDAwMjMwMjQifQ.to-4I9i7JGm1LOu3ddNFZ44ChL-I_pK7Oa4RvuswulGau7-a05uJakiL7WO3s45HP1YTXPQIlBFSl9LXPD2a5A', 'expiry': 86400, 'twoFactor': None}, 'error': None}
2019-04-18 13:21:30,746 - PYTHON_WTP_QA - INFO -  Customer --> get_postman_access
2019-04-18 13:21:30,747 - PYTHON_WTP_QA - INFO -  IBalanceService --> add_balance
2019-04-18 13:21:30,747 - PYTHON_WTP_QA - INFO -  IBalanceServiceRequest --> add
2019-04-18 13:21:30,748 - PYTHON_WTP_QA - INFO -  Utils --> to_json
2019-04-18 13:21:30,749 - PYTHON_WTP_QA - INFO - Request body: {
    "id": "1",
    "jsonrpc": "2.0",
    "method": "balance.add",
    "params": {
        "amount": 50000.0,
        "currencyId": 8,
        "customerId": 100001100000023024,
        "metadata": {
            "operationReference": "QA-test"
        }
    }
}
2019-04-18 13:21:30,749 - PYTHON_WTP_QA - INFO -  Utils --> to_json
2019-04-18 13:21:30,770 - PYTHON_WTP_QA - INFO - Service Response: {'jsonrpc': '2.0', 'id': '1', 'result': {'transactionGuid': '0-AAAAAABI+9Q=', 'customerId': 100001100000023024, 'currencyId': 8, 'balance': {'total': '50100.0', 'frozen': '0', 'available': '50100.0'}}}
2019-04-18 13:21:30,772 - PYTHON_WTP_QA - INFO -  TestSellLimitPartiallyFilledCanceledBalanceUnfrozen --> test_sell_limit_partially_filled_canceled_balance_unfrozen
2019-04-18 13:21:30,773 - PYTHON_WTP_QA - INFO - TEST CASE N: TS- 13 STARTED !
2019-04-18 13:21:30,774 - PYTHON_WTP_QA - INFO - method_sell_limit_partially_filled_canceled_balance_unfrozen =['trading_sanity', ]), 
2019-04-18 13:21:30,774 - PYTHON_WTP_QA - INFO -  IBalanceService --> get_currency_balance
2019-04-18 13:21:30,775 - PYTHON_WTP_QA - INFO -  IBalanceServiceRequest --> get
2019-04-18 13:21:30,775 - PYTHON_WTP_QA - INFO -  Utils --> to_json
2019-04-18 13:21:30,776 - PYTHON_WTP_QA - INFO - Request body: {
    "id": "1",
    "jsonrpc": "2.0",
    "method": "balance.get",
    "params": {
        "currencyId": 8,
        "customerId": 100001100000023024
    }
}
2019-04-18 13:21:30,776 - PYTHON_WTP_QA - INFO -  Utils --> to_json
2019-04-18 13:21:30,783 - PYTHON_WTP_QA - INFO - Service Response: {'jsonrpc': '2.0', 'id': '1', 'result': {'customerId': 100001100000023024, 'currencyId': 8, 'balance': {'total': '50100.0', 'frozen': '0', 'available': '50100.0'}}}
2019-04-18 13:21:30,784 - PYTHON_WTP_QA - INFO -  SqlDb --> get_quantity_tail_digits
2019-04-18 13:21:30,785 - PYTHON_WTP_QA - INFO -  SqlDb --> run_mysql_query
2019-04-18 13:21:30,788 - PYTHON_WTP_QA - INFO -  SqlDb --> run_mysql_query
2019-04-18 13:21:30,790 - PYTHON_WTP_QA - INFO -  SqlDb --> get_price_tail_digits
2019-04-18 13:21:30,791 - PYTHON_WTP_QA - INFO -  SqlDb --> run_mysql_query
2019-04-18 13:21:30,792 - PYTHON_WTP_QA - INFO -  SqlDb --> run_mysql_query
2019-04-18 13:21:30,795 - PYTHON_WTP_QA - INFO -  RedisDb --> get_orders_best_price_and_quantity
2019-04-18 13:21:30,796 - PYTHON_WTP_QA - INFO -  Order --> set_order
2019-04-18 13:21:30,797 - PYTHON_WTP_QA - INFO -  Calculator --> calculate_decimals
2019-04-18 13:21:30,797 - PYTHON_WTP_QA - INFO - FLOAT
2019-04-18 13:21:30,797 - PYTHON_WTP_QA - INFO -  Calculator --> calculate_decimals
2019-04-18 13:21:30,797 - PYTHON_WTP_QA - INFO - FLOAT
2019-04-18 13:21:30,797 - PYTHON_WTP_QA - INFO - Order was set to Order(type: 2, price: [pure-2.15, p_value-215, p_presc.-2], quantity: [pure-200.0, q_value-2000, q_presc.-1], order_id: , internal_id: 0, direction: 2, instrument_id: 1022, date_created: 2019-04-18), customer ID: 0, order status: , direction: 2,  filled quantity: 0, time in force: , transaction id: 
2019-04-18 13:21:30,797 - PYTHON_WTP_QA - INFO -  Order --> set_order
2019-04-18 13:21:30,798 - PYTHON_WTP_QA - INFO -  Calculator --> calculate_decimals
2019-04-18 13:21:30,798 - PYTHON_WTP_QA - INFO - FLOAT
2019-04-18 13:21:30,798 - PYTHON_WTP_QA - INFO -  Calculator --> calculate_decimals
2019-04-18 13:21:30,798 - PYTHON_WTP_QA - INFO - FLOAT
2019-04-18 13:21:30,798 - PYTHON_WTP_QA - INFO - Order was set to Order(type: 2, price: [pure-2.22, p_value-222, p_presc.-2], quantity: [pure-200.0, q_value-2000, q_presc.-1], order_id: , internal_id: 0, direction: 2, instrument_id: 1022, date_created: 2019-04-18), customer ID: 0, order status: , direction: 2,  filled quantity: 0, time in force: , transaction id: 
2019-04-18 13:21:30,798 - PYTHON_WTP_QA - INFO -  OrderService --> create_order
2019-04-18 13:21:30,799 - PYTHON_WTP_QA - INFO -  OrderServiceRequest --> create_order
2019-04-18 13:21:30,799 - PYTHON_WTP_QA - INFO -  Utils --> to_json
2019-04-18 13:21:30,799 - PYTHON_WTP_QA - INFO - Request body: {
    "jsonrpc": "2.0",
    "method": "OrderManagement.Create",
    "params": [
        {
            "order": {
                "direction": 2,
                "instrumentId": 1022,
                "orderType": 2,
                "price": {
                    "decimals": 2,
                    "value": 222
                },
                "quantity": {
                    "decimals": 1,
                    "value": 2000
                }
            }
        }
    ]
}
2019-04-18 13:21:30,799 - PYTHON_WTP_QA - INFO -  Utils --> to_json
2019-04-18 13:21:31,514 - PYTHON_WTP_QA - INFO - Service Response: {'id': '<nil>', 'result': {'status': True, 'error': None, 'externalOrderId': '0-AAAAAABI+9U='}, 'error': None}
2019-04-18 13:21:31,514 - PYTHON_WTP_QA - INFO - 2, 0-AAAAAABI+9U=, 2, 2019-04-18 - 404.504317
2019-04-18 13:21:31,515 - PYTHON_WTP_QA - INFO -  RedisDb --> get_orders_best_price_and_quantity
2019-04-18 13:21:31,518 - PYTHON_WTP_QA - INFO -  Order --> set_order
2019-04-18 13:21:31,518 - PYTHON_WTP_QA - INFO -  Calculator --> calculate_decimals
2019-04-18 13:21:31,519 - PYTHON_WTP_QA - INFO - FLOAT
2019-04-18 13:21:31,520 - PYTHON_WTP_QA - INFO -  Calculator --> calculate_decimals
2019-04-18 13:21:31,520 - PYTHON_WTP_QA - INFO - FLOAT
2019-04-18 13:21:31,521 - PYTHON_WTP_QA - INFO - Order was set to Order(type: 2, price: [pure-2.07, p_value-207, p_presc.-2], quantity: [pure-300.0, q_value-3000, q_presc.-1], order_id: 0-AAAAAABI+9U=, internal_id: 0, direction: 2, instrument_id: 1022, date_created: 2019-04-18 - 404.504317), customer ID: 0, order status: , direction: 2,  filled quantity: 0, time in force: , transaction id: 
2019-04-18 13:21:31,521 - PYTHON_WTP_QA - INFO -  OrderService --> create_order
2019-04-18 13:21:31,522 - PYTHON_WTP_QA - INFO -  OrderServiceRequest --> create_order
2019-04-18 13:21:31,522 - PYTHON_WTP_QA - INFO -  Utils --> to_json
2019-04-18 13:21:31,523 - PYTHON_WTP_QA - INFO - Request body: {
    "jsonrpc": "2.0",
    "method": "OrderManagement.Create",
    "params": [
        {
            "order": {
                "direction": 2,
                "instrumentId": 1022,
                "orderType": 2,
                "price": {
                    "decimals": 2,
                    "value": 207
                },
                "quantity": {
                    "decimals": 1,
                    "value": 3000
                }
            }
        }
    ]
}
2019-04-18 13:21:31,523 - PYTHON_WTP_QA - INFO -  Utils --> to_json
2019-04-18 13:21:32,263 - PYTHON_WTP_QA - INFO - Service Response: {'id': '<nil>', 'result': {'status': True, 'error': None, 'externalOrderId': '0-AAAAAABI+9o='}, 'error': None}
2019-04-18 13:21:32,264 - PYTHON_WTP_QA - INFO - 2, 0-AAAAAABI+9o=, 2, 2019-04-18 - 405.2538197
2019-04-18 13:21:35,265 - PYTHON_WTP_QA - INFO -  OrderService --> cancel_order
2019-04-18 13:21:35,265 - PYTHON_WTP_QA - INFO -  OrderServiceRequest --> cancel_order
2019-04-18 13:21:35,265 - PYTHON_WTP_QA - INFO -  Utils --> to_json
2019-04-18 13:21:35,266 - PYTHON_WTP_QA - INFO - Request body: {
    "jsonrpc": "2.0",
    "method": "OrderManagement.Cancel",
    "params": [
        {
            "externalOrderId": "0-AAAAAABI+9o="
        }
    ]
}
2019-04-18 13:21:35,266 - PYTHON_WTP_QA - INFO -  Utils --> to_json
2019-04-18 13:21:35,968 - PYTHON_WTP_QA - INFO - Service Response: {'id': '', 'result': None, 'error': '{"type":-1,"term":"cancel_validator.err_time_processing.error","details":"do not allow canceling order for \'5s\' seconds after execution time","incident_id":"8a2e929f-46cf-41f9-b608-e72e94ec3688"}'}
2019-04-18 13:21:35,969 - PYTHON_WTP_QA - INFO -  TestRail --> update_test_case
2019-04-18 13:21:36,837 - PYTHON_WTP_QA - INFO - Server responded: {'error': 'Field :case_id is not a valid ID.'}
2019-04-18 13:21:36,838 - PYTHON_WTP_QA - CRITICAL - test_sell_limit_partially_filled_canceled_balance_unfrozen AssertionError automation_wrapper throws an exception: None
Traceback (most recent call last):
  File "C:\GitLab\platform-server_qa\src\base\log_decorator.py", line 22, in log_wrapper
    return func(*args, **kwargs)
  File "C:\GitLab\platform-server_qa\tests\web_platform_tests\trading_sanity_tests\sell_limit_partially_filled_canceled_balance_unfrozen_test.py", line 84, in test_sell_limit_partially_filled_canceled_balance_unfrozen
    assert canceled_status_error is None
AssertionError: assert '{"type":-1,"term":"cancel_validator.err_time_processing.error","details":"do not allow canceling order for \'5s\' seconds after execution time","incident_id":"8a2e929f-46cf-41f9-b608-e72e94ec3688"}' is None
2019-04-18 13:21:36,857 - PYTHON_WTP_QA - INFO - END TIME: 409.8464005
2019-04-18 13:21:36,857 - PYTHON_WTP_QA - INFO - AVERAGE OF THE TEST CASE RUN TIME: 7.015522400000009 seconds
